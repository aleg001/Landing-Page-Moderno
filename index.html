<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="src/hover.js"></script>
    <title>Landing Page Moderna</title>

    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display+SC&family=Six+Caps&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/main.css" />
  </head>
  <body>
    <div class="azules"></div>
    <div class="container">
      <div class="title">
        <div class="title1">"There's a million things</div>
        <div class="title2">I haven't done, but just</div>
        <div class="title3">you wait."</div>
      </div>
      <p>- Lin-Manuel Miranda</p>
    </div>
    <div class="cursor"></div>
    <div class="img"></div>

    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"
      integrity="sha512-H6cPm97FAsgIKmlBA4s774vqoN24V5gSQL4yBTDOY2su2DeXZVhQPxFK4P6GPdnZqM9fg1G3cMv5wD7e6cFLZQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"
      integrity="sha512-dLxUelApnYxpLt6K2iomGngnHO83iUvZytA3YjDUCjT0HDOHKXnVYdf3hU4JjM8uEhxf9nD1/ey98U3t2vZ0qQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <script>
      let textWrapper = document.querySelector(".title1");
      textWrapper.innerHTML = textWrapper.textContent.replace(
        /\S/g,
        "<span class = 'letter'>$&</span>"
      );

      let textWrapper2 = document.querySelector(".title2");
      textWrapper2.innerHTML = textWrapper2.textContent.replace(
        /\S/g,
        "<span class = 'letter'>$&</span>"
      );
      let textWrapper3 = document.querySelector(".title3");
      textWrapper3.innerHTML = textWrapper3.textContent.replace(
        /\S/g,
        "<span class = 'letter'>$&</span>"
      );

      let tl = gsap.timeline();
      tl.to(".title1 .letter", {
        opacity: 1,
        y: "0",
        clipPath: "polygon(0 0, 100% 0, 100% 100%, 0 100%)",
        stagger: "0.03",
      });
      tl.to(
        ".title2 .letter",
        {
          opacity: 1,
          y: "0",
          clipPath: "polygon(0 0, 100% 0, 100% 100%, 0 100%)",
          stagger: "0.03",
        },
        "-=.7"
      );
      tl.to(
        ".title3 .letter",
        {
          opacity: 1,
          y: "0",
          clipPath: "polygon(0 0, 100% 0, 100% 100%, 0 100%)",
          stagger: "0.03",
        },
        "-=.7"
      );
      tl.from("p", { opacity: 0, y: "-50px" }, "-=.7");
      tl.to(
        ".img",
        {
          clipPath: "polygon(0 0, 100% 0, 100% 100%, 0 100%",
          ease: Back.easeOut.config(1.7),
          duration: 0.75,
        },
        "-=.5"
      );
      var myAnimation = new hoverEffect({
        parent: document.querySelector(".img"),
        intensity: 0.3,
        image1: "../elementos/abstracto_azul.jpeg",
        image2: "../elementos/abstracto_morado.jpeg",
        displacementImage: "../elementos/abstracto_verde.jpeg",
      });
      let title = document.querySelector(".container");
      let img = document.querySelector(".img");
      let cursorCircle = document.querySelector(".cursor");

      let cursor = {
        x: 0,
        y: -5,
      };
      document.addEventListener("mousemove", (e) => {
        cursor.x = e.clientX * 0.03;
        cursor.y = e.clientY * 0.1;
        img.style.transform = `translate(${cursor.x}px, ${cursor.y}px)`;
        cursorCircle.style.transform = `translate(${e.clientX}px,${e.clientY})`;
      });
    </script>
  </body>
</html>
